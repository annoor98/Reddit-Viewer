(this["webpackJsonpreddit-viewer"]=this["webpackJsonpreddit-viewer"]||[]).push([[0],{18:function(t,e,n){t.exports=n(40)},40:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(17),o=n.n(r),s=n(2),d=n(3),l=n(6),c=n(5),u=n(4),m=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"imageMissing",value:function(t){t.target.style.display="none"}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("img",{src:this.props.post.data.url,style:{marginLeft:"auto",marginRight:"auto",display:"block",border:"20px solid white",borderRadius:"20px"},onError:this.imageMissing,alt:this.props.post.data.name,width:"60%",height:"auto"}),i.a.createElement("br",null))}}]),n}(a.Component),h=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return this.props.posts.map((function(t){return i.a.createElement(m,{key:t.data.name,post:t})}))}}]),n}(a.Component),g=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{style:{textAlign:"center",backgroundColor:"white",border:"1px white solid",borderTopLeftRadius:"30px",borderTopRightRadius:"30px"}},i.a.createElement("h1",null,"Reddit Viewer"))}}]),n}(a.Component),p=n(7),b=n.n(p),f=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).state={subreddit:"cute",imageList:[],after:"id",isAtBottom:!1},a.didScroll=function(t){.75*document.getElementById("View").offsetHeight<=document.documentElement.scrollTop&&!1===a.state.isAtBottom&&(a.setState({isAtBottom:!0}),a.listLength>24&&b.a.get("https://www.reddit.com/r/"+a.state.subreddit+"/.json?after="+a.state.after).then((function(t){a.setState({imageList:a.state.imageList.concat(t.data.data.children),after:t.data.data.after,listLength:a.state.imageList.length}),a.listLength=t.data.data.children.length,a.filterList()}))),.75*document.getElementById("View").offsetHeight>document.documentElement.scrollTop&&!0===a.state.isAtBottom&&a.setState({isAtBottom:!1})},a.didScroll=a.didScroll.bind(Object(l.a)(a)),a.changeSub=a.changeSub.bind(Object(l.a)(a)),a.loadSubs=a.loadSubs.bind(Object(l.a)(a)),a.filterList=a.filterList.bind(Object(l.a)(a)),a.listLength=0,a}return Object(d.a)(n,[{key:"loadSubs",value:function(){var t=this;b.a.get("https://www.reddit.com/r/"+this.state.subreddit+"/.json").then((function(e){t.setState({imageList:e.data.data.children,after:e.data.data.after}),t.listLength=e.data.data.children.length,document.getElementById("errorMessage").innerHTML="",t.filterList()})).catch((function(t){document.getElementById("errorMessage").innerHTML="Error retrieving data!"}))}},{key:"filterList",value:function(){this.setState({imageList:this.state.imageList.filter((function(t){return RegExp("([a-z-_0-9/:.]*.(jpg|jpeg|png|gif))$","i").test(t.data.url)}))}),0===this.state.imageList.length&&(document.getElementById("errorMessage").innerHTML="The specified subreddit does not contain valid images!")}},{key:"componentDidMount",value:function(){this.loadSubs(),window.addEventListener("scroll",this.didScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.didScroll)}},{key:"changeSub",value:function(){var t=document.getElementById("subName").value;this.setState({subreddit:t,imageList:[]},this.loadSubs)}},{key:"render",value:function(){return i.a.createElement("div",{className:"App",id:"View"},i.a.createElement(g,null),i.a.createElement("div",{id:"search",style:{textAlign:"center",backgroundColor:"white",borderBottomLeftRadius:"30px",borderBottomRightRadius:"30px",paddingBottom:"10px",marginBottom:"20px",fontSize:"30px"}},i.a.createElement("label",null,"Subreddit: "),i.a.createElement("input",{type:"text",id:"subName",defaultValue:"cute"}),i.a.createElement("p",{id:"errorMessage"}),i.a.createElement("button",{onClick:this.changeSub},"View Images")),i.a.createElement(h,{posts:this.state.imageList}))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.1c1a9f4c.chunk.js.map