(this["webpackJsonpreddit-viewer"]=this["webpackJsonpreddit-viewer"]||[]).push([[0],{18:function(e,t,n){e.exports=n(40)},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(17),o=n.n(i),s=n(2),c=n(3),d=n(6),l=n(5),u=n(4),m=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"imageMissing",value:function(e){e.target.style.display="none"}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("img",{src:this.props.post.data.url,style:{marginLeft:"auto",marginRight:"auto",display:"block",border:"20px solid white",borderRadius:"20px"},onError:this.imageMissing,alt:this.props.post.data.name,width:"60%",height:"auto"}),r.a.createElement("br",null))}}]),n}(a.Component),h=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return this.props.posts.map((function(e){return r.a.createElement(m,{key:e.data.name,post:e})}))}}]),n}(a.Component),b=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{style:{textAlign:"center",backgroundColor:"white",border:"1px white solid",borderTopLeftRadius:"30px",borderTopRightRadius:"30px"}},r.a.createElement("h1",null,"Reddit Viewer"))}}]),n}(a.Component),p=n(7),g=n.n(p),f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={subreddit:"cute",imageList:[],after:"id",isAtBottom:!1},a.didScroll=function(e){.75*document.getElementById("View").offsetHeight<=document.documentElement.scrollTop&&!1===a.state.isAtBottom&&(a.setState({isAtBottom:!0}),g.a.get("https://www.reddit.com/r/"+a.state.subreddit+"/.json?after="+a.state.after).then((function(e){return a.setState({imageList:a.state.imageList.concat(e.data.data.children),after:e.data.data.after})}))),.75*document.getElementById("View").offsetHeight>document.documentElement.scrollTop&&!0===a.state.isAtBottom&&a.setState({isAtBottom:!1})},a.didScroll=a.didScroll.bind(Object(d.a)(a)),a.changeSub=a.changeSub.bind(Object(d.a)(a)),a.loadSubs=a.loadSubs.bind(Object(d.a)(a)),a}return Object(c.a)(n,[{key:"loadSubs",value:function(){var e=this;g.a.get("https://www.reddit.com/r/"+this.state.subreddit+"/.json").then((function(t){e.setState({imageList:t.data.data.children,after:t.data.data.after}),document.getElementById("errorMessage").innerHTML=""})).catch((function(e){document.getElementById("errorMessage").innerHTML="Error retrieving data!"}))}},{key:"componentDidMount",value:function(){this.loadSubs(),window.addEventListener("scroll",this.didScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.didScroll)}},{key:"changeSub",value:function(){var e=document.getElementById("subName").value;this.setState({subreddit:e,imageList:[]},this.loadSubs)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App",id:"View"},r.a.createElement(b,null),r.a.createElement("div",{id:"search",style:{textAlign:"center",backgroundColor:"white",borderBottomLeftRadius:"30px",borderBottomRightRadius:"30px",paddingBottom:"10px",fontSize:"30px"}},r.a.createElement("label",null,"Subreddit: "),r.a.createElement("input",{type:"text",id:"subName",defaultValue:"cute"}),r.a.createElement("p",{id:"errorMessage"}),r.a.createElement("button",{onClick:this.changeSub},"View Images")),r.a.createElement(h,{posts:this.state.imageList}))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.0da63a5e.chunk.js.map